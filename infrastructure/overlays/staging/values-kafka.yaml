# gitops-platform/infrastructure/overlays/staging/values-kafka.yaml
# Staging config: Production-like but smaller, Bitnami image

replicaCount: 2  # Test HA with 2 nodes

kraft:
  enabled: true

listeners:
  client:
    protocol: PLAINTEXT
    containerPort: 9092
  controller:
    protocol: PLAINTEXT
    containerPort: 9093
  interbroker:
    protocol: PLAINTEXT
    containerPort: 9094

persistence:
  enabled: true
  size: 50Gi
  # storageClass: "gp3"  # Uncomment if using specific storage class

resources:
  requests:
    memory: 2Gi
    cpu: 1000m
  limits:
    memory: 4Gi
    cpu: 2000m

tls:
  enabled: false  # Enable in prod; test TLS in staging if needed

autoCreateTopicsEnable: true

logLevel: INFO

metrics:
  enabled: true
  serviceMonitor:
    enabled: true  # Enable if using Prometheus Operator

# âœ… Optional: Enable SASL auth for staging testing
# auth:
#   clientProtocol: sasl_plaintext
#   interBrokerProtocol: plaintext
#   existingSecret: kafka-credentials
#   existingSecretPasswordKey: KAFKA_PASSWORD